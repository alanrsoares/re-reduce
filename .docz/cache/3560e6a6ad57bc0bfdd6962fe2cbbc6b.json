{"remainingRequest":"/Users/alanrsoares/dev/re-reduced/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/alanrsoares/dev/re-reduced/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/alanrsoares/dev/re-reduced/node_modules/source-map-loader/index.js!/Users/alanrsoares/dev/re-reduced/examples/ToDo/api.ts","dependencies":[{"path":"/Users/alanrsoares/dev/re-reduced/examples/ToDo/api.ts","mtime":1557712553957},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/cache-loader/dist/cjs.js","mtime":1557712913498},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/thread-loader/dist/cjs.js","mtime":1553212856450},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/babel-loader/lib/index.js","mtime":1557712913458},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/source-map-loader/index.js","mtime":1553206056663}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FsYW5yc29hcmVzL2Rldi9yZS1yZWR1Y2VkL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hbGFucnNvYXJlcy9kZXYvcmUtcmVkdWNlZC9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmVudGVyTW9kdWxlOwogIGVudGVyTW9kdWxlICYmIGVudGVyTW9kdWxlKG1vZHVsZSk7Cn0pKCk7CgppbXBvcnQgeyBkZWxheSB9IGZyb20gIi4vaGVscGVycyI7CnZhciBMU19LRVkgPSAicmUtcmVkdWNlZDp0b2RvX2FwcCI7CnZhciBwYXRocyA9IHsKICB0b2RvczogIiIuY29uY2F0KExTX0tFWSwgIi90b2RvcyIpLAogIHRhZ3M6ICIiLmNvbmNhdChMU19LRVksICIvdGFncyIpCn07CmV4cG9ydCB2YXIgZmV0Y2hUb0RvcyA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBkZWxheSgxMDAwKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0ocGF0aHMudG9kb3MpIHx8ICJbXSIpKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZmV0Y2hUb0RvcygpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKaWYgKHR5cGVvZiBmZXRjaFRvRG9zICE9PSAndW5kZWZpbmVkJyAmJiBmZXRjaFRvRG9zICYmIGZldGNoVG9Eb3MgPT09IE9iamVjdChmZXRjaFRvRG9zKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKGZldGNoVG9Eb3MpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZldGNoVG9Eb3MsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJmZXRjaFRvRG9zIiwKICAgICAgZmlsZW5hbWU6ICJleGFtcGxlcy9Ub0RvL2FwaS50cyIKICAgIH0KICB9KTsKfQoKZXhwb3J0IHZhciBhZGRUb0RvID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMih0b2RvKSB7CiAgICB2YXIgJHRvZG8sIHRvZG9zOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICR0b2RvID0gX29iamVjdFNwcmVhZCh7fSwgdG9kbywgewogICAgICAgICAgICAgIGlkOiAidG9kby1pZC0iLmNvbmNhdChEYXRlLm5vdygpKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gZmV0Y2hUb0RvcygpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgdG9kb3MgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocGF0aHMudG9kb3MsIEpTT04uc3RyaW5naWZ5KHRvZG9zLmNvbmNhdCgkdG9kbykpKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsICR0b2RvKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBhZGRUb0RvKF94KSB7CiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7CgppZiAodHlwZW9mIGFkZFRvRG8gIT09ICd1bmRlZmluZWQnICYmIGFkZFRvRG8gJiYgYWRkVG9EbyA9PT0gT2JqZWN0KGFkZFRvRG8pICYmIE9iamVjdC5pc0V4dGVuc2libGUoYWRkVG9EbykpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYWRkVG9EbywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogImFkZFRvRG8iLAogICAgICBmaWxlbmFtZTogImV4YW1wbGVzL1RvRG8vYXBpLnRzIgogICAgfQogIH0pOwp9CgpleHBvcnQgdmFyIGRlbGV0ZVRvRG8gPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAvKiNfX1BVUkVfXyovCiAgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGlkKSB7CiAgICB2YXIgdG9kb3MsIGZpbHRlcmVkOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGZldGNoVG9Eb3MoKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHRvZG9zID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgIGZpbHRlcmVkID0gdG9kb3MuZmlsdGVyKGZ1bmN0aW9uICh0b2RvKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRvZG8uaWQgIT09IGlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocGF0aHMudG9kb3MsIEpTT04uc3RyaW5naWZ5KGZpbHRlcmVkKSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBpZCk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMyk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZGVsZXRlVG9EbyhfeDIpIHsKICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCmlmICh0eXBlb2YgZGVsZXRlVG9EbyAhPT0gJ3VuZGVmaW5lZCcgJiYgZGVsZXRlVG9EbyAmJiBkZWxldGVUb0RvID09PSBPYmplY3QoZGVsZXRlVG9EbykgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShkZWxldGVUb0RvKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWxldGVUb0RvLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiZGVsZXRlVG9EbyIsCiAgICAgIGZpbGVuYW1lOiAiZXhhbXBsZXMvVG9Eby9hcGkudHMiCiAgICB9CiAgfSk7Cn0KCmV4cG9ydCB2YXIgcGF0Y2hUb0RvID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCh1cGRhdGVkVG9EbykgewogICAgdmFyIHRvZG9zLCB1cGRhdGVkVG9Eb3M7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZmV0Y2hUb0RvcygpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgdG9kb3MgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgdXBkYXRlZFRvRG9zID0gdG9kb3MubWFwKGZ1bmN0aW9uICh0b2RvKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRvZG8uaWQgPT09IHVwZGF0ZWRUb0RvLmlkID8gdXBkYXRlZFRvRG8gOiB0b2RvOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocGF0aHMudG9kb3MsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRUb0RvcykpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdXBkYXRlZFRvRG8pOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTQpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIHBhdGNoVG9EbyhfeDMpIHsKICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCmlmICh0eXBlb2YgcGF0Y2hUb0RvICE9PSAndW5kZWZpbmVkJyAmJiBwYXRjaFRvRG8gJiYgcGF0Y2hUb0RvID09PSBPYmplY3QocGF0Y2hUb0RvKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKHBhdGNoVG9EbykpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGF0Y2hUb0RvLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAicGF0Y2hUb0RvIiwKICAgICAgZmlsZW5hbWU6ICJleGFtcGxlcy9Ub0RvL2FwaS50cyIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihMU19LRVksICJMU19LRVkiLCAiL1VzZXJzL2FsYW5yc29hcmVzL2Rldi9yZS1yZWR1Y2VkL2V4YW1wbGVzL1RvRG8vYXBpLnRzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIocGF0aHMsICJwYXRocyIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvZXhhbXBsZXMvVG9Eby9hcGkudHMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihmZXRjaFRvRG9zLCAiZmV0Y2hUb0RvcyIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvZXhhbXBsZXMvVG9Eby9hcGkudHMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihhZGRUb0RvLCAiYWRkVG9EbyIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvZXhhbXBsZXMvVG9Eby9hcGkudHMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihkZWxldGVUb0RvLCAiZGVsZXRlVG9EbyIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvZXhhbXBsZXMvVG9Eby9hcGkudHMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihwYXRjaFRvRG8sICJwYXRjaFRvRG8iLCAiL1VzZXJzL2FsYW5yc29hcmVzL2Rldi9yZS1yZWR1Y2VkL2V4YW1wbGVzL1RvRG8vYXBpLnRzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmxlYXZlTW9kdWxlOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["/Users/alanrsoares/dev/re-reduced/examples/ToDo/api.ts"],"names":["delay","LS_KEY","paths","todos","tags","fetchToDos","JSON","parse","localStorage","getItem","addToDo","todo","$todo","id","Date","now","setItem","stringify","concat","deleteToDo","filtered","filter","patchToDo","updatedToDo","updatedToDos","map"],"mappings":";;;;;;;;;AAAA,SAASA,KAAT,QAAsB,WAAtB;AAGA,IAAMC,MAAM,GAAG,qBAAf;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,KAAK,YAAKF,MAAL,WADO;AAEZG,EAAAA,IAAI,YAAKH,MAAL;AAFQ,CAAd;AAKA,OAAO,IAAMI,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAClBL,KAAK,CAAC,IAAD,CADa;;AAAA;AAAA,6CAEjBM,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBP,KAAK,CAACC,KAA3B,KAAqC,IAAhD,CAFiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVE,UAAU;AAAA;AAAA;AAAA,GAAhB;;;;;;;;;;;;;AAKP,OAAO,IAAMK,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACfC,YAAAA,KADe,qBAEhBD,IAFgB;AAGnBE,cAAAA,EAAE,oBAAaC,IAAI,CAACC,GAAL,EAAb;AAHiB;AAAA;AAAA,mBAMDV,UAAU,EANT;;AAAA;AAMfF,YAAAA,KANe;AAQrBK,YAAAA,YAAY,CAACQ,OAAb,CAAqBd,KAAK,CAACC,KAA3B,EAAkCG,IAAI,CAACW,SAAL,CAAed,KAAK,CAACe,MAAN,CAAaN,KAAb,CAAf,CAAlC;AARqB,8CAUdA,KAVc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPF,OAAO;AAAA;AAAA;AAAA,GAAb;;;;;;;;;;;;;AAaP,OAAO,IAAMS,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAON,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACJR,UAAU,EADN;;AAAA;AAClBF,YAAAA,KADkB;AAElBiB,YAAAA,QAFkB,GAEPjB,KAAK,CAACkB,MAAN,CAAa,UAAAV,IAAI;AAAA,qBAAIA,IAAI,CAACE,EAAL,KAAYA,EAAhB;AAAA,aAAjB,CAFO;AAIxBL,YAAAA,YAAY,CAACQ,OAAb,CAAqBd,KAAK,CAACC,KAA3B,EAAkCG,IAAI,CAACW,SAAL,CAAeG,QAAf,CAAlC;AAJwB,8CAMjBP,EANiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVM,UAAU;AAAA;AAAA;AAAA,GAAhB;;;;;;;;;;;;;AASP,OAAO,IAAMG,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAOC,WAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACHlB,UAAU,EADP;;AAAA;AACjBF,YAAAA,KADiB;AAGjBqB,YAAAA,YAHiB,GAGFrB,KAAK,CAACsB,GAAN,CACnB,UAAAd,IAAI;AAAA,qBAAKA,IAAI,CAACE,EAAL,KAAYU,WAAW,CAACV,EAAxB,GAA6BU,WAA7B,GAA2CZ,IAAhD;AAAA,aADe,CAHE;AAOvBH,YAAAA,YAAY,CAACQ,OAAb,CAAqBd,KAAK,CAACC,KAA3B,EAAkCG,IAAI,CAACW,SAAL,CAAeO,YAAf,CAAlC;AAPuB,8CAShBD,WATgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATD,SAAS;AAAA;AAAA;AAAA,GAAf;;;;;;;;;;;;;;;;;;;;;;0BAlCDrB,M;0BAEAC,K;0BAKOG,U;0BAKAK,O;0BAaAS,U;0BASAG,S","sourcesContent":["import { delay } from \"./helpers\";\nimport { ToDo } from \"./types\";\n\nconst LS_KEY = \"re-reduced:todo_app\";\n\nconst paths = {\n  todos: `${LS_KEY}/todos`,\n  tags: `${LS_KEY}/tags`\n};\n\nexport const fetchToDos = async () => {\n  await delay(1000);\n  return JSON.parse(localStorage.getItem(paths.todos) || \"[]\") as ToDo[];\n};\n\nexport const addToDo = async (todo: Partial<ToDo>) => {\n  const $todo = {\n    ...todo,\n    id: `todo-id-${Date.now()}`\n  } as ToDo;\n\n  const todos = await fetchToDos();\n\n  localStorage.setItem(paths.todos, JSON.stringify(todos.concat($todo)));\n\n  return $todo;\n};\n\nexport const deleteToDo = async (id: string) => {\n  const todos = await fetchToDos();\n  const filtered = todos.filter(todo => todo.id !== id);\n\n  localStorage.setItem(paths.todos, JSON.stringify(filtered));\n\n  return id;\n};\n\nexport const patchToDo = async (updatedToDo: ToDo) => {\n  const todos = await fetchToDos();\n\n  const updatedToDos = todos.map(\n    todo => (todo.id === updatedToDo.id ? updatedToDo : todo)\n  );\n\n  localStorage.setItem(paths.todos, JSON.stringify(updatedToDos));\n\n  return updatedToDo;\n};\n"]}]}