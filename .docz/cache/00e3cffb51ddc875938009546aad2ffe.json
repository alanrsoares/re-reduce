{"remainingRequest":"/Users/alanrsoares/dev/re-reduced/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/alanrsoares/dev/re-reduced/node_modules/source-map-loader/index.js!/Users/alanrsoares/dev/re-reduced/src/lib/actions.ts","dependencies":[{"path":"/Users/alanrsoares/dev/re-reduced/src/lib/actions.ts","mtime":1557714458225},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/cache-loader/dist/cjs.js","mtime":1557712913498},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/thread-loader/dist/cjs.js","mtime":1553212856450},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/babel-loader/lib/index.js","mtime":1557712913458},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/source-map-loader/index.js","mtime":1553206056663}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FsYW5yc29hcmVzL2Rldi9yZS1yZWR1Y2VkL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9hbGFucnNvYXJlcy9kZXYvcmUtcmVkdWNlZC9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9hbGFucnNvYXJlcy9kZXYvcmUtcmVkdWNlZC9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5lbnRlck1vZHVsZTsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKaW1wb3J0IGZsaXAgZnJvbSAicmFtZGEvc3JjL2ZsaXAiOwppbXBvcnQgeyB0b1NuYWtlQ2FzZSB9IGZyb20gIi4uL2hlbHBlcnMvc3RyaW5ncyI7Ci8qKgogKiByZXR1cm5zIGFuIGFjdGlvbi1jcmVhdG9yIGZ1bmN0aW9uCiAqCiAqIEBwYXJhbSB0eXBlIC0gdGhlIGFjdGlvbiBpZGVudGlmaWVyLCBtdXN0IGJlIHVuaXF1ZQogKiBAcGFyYW0gbmFtZXNwYWNlIC0gb3B0aW9uYWwgbmFtZXNwYWNlIHN0cmluZyB0byBiZSBwcmVwZW5kZWQgdG8gdGhlIHR5cGUKICovCgpleHBvcnQgZnVuY3Rpb24gY3JlYXRlQWN0aW9uKHR5cGUsIG5hbWVzcGFjZSkgewogIHZhciAkdHlwZSA9IHRvU25ha2VDYXNlKG5hbWVzcGFjZSA/ICIiLmNvbmNhdChuYW1lc3BhY2UsICIvIikuY29uY2F0KHR5cGUpIDogdHlwZSk7CgogIHZhciBhY3Rpb25DcmVhdG9yID0gZnVuY3Rpb24gYWN0aW9uQ3JlYXRvcihwYXlsb2FkLCBvcHRpb25zKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvcjogb3B0aW9ucyA/IG9wdGlvbnMuZXJyb3IgOiB1bmRlZmluZWQsCiAgICAgIG1ldGE6IG9wdGlvbnMgPyBvcHRpb25zLm1ldGEgOiB1bmRlZmluZWQsCiAgICAgIHBheWxvYWQ6IHBheWxvYWQsCiAgICAgIHR5cGU6ICR0eXBlCiAgICB9OwogIH07CgogIGFjdGlvbkNyZWF0b3IudHlwZSA9ICR0eXBlOwoKICBhY3Rpb25DcmVhdG9yLnJlZHVjZSA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7CiAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBhY3Rpb25DcmVhdG9yLnR5cGUsIGhhbmRsZXIpOwogIH07CgogIGFjdGlvbkNyZWF0b3IuZm9sZCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7CiAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBhY3Rpb25DcmVhdG9yLnR5cGUsIGZsaXAoaGFuZGxlcikpOwogIH07CgogIHJldHVybiBhY3Rpb25DcmVhdG9yOwp9Ci8qKgogKiByZXR1cm5zIGEgY29tcG9zaXRlIGFjdGlvbi1jcmVhdG9yIHdpdGggbmVzdGVkIGFjdGlvbi1jcmVhdG9ycyBmb3IgcmVxdWVzdCwgc3VjY2VzcyBhbmQgZmFpbHVyZQogKgogKiBAcGFyYW0gdHlwZSAtIHRoZSBhY3Rpb24gaWRlbnRpZmllciwgbXVzdCBiZSB1bmlxdWUKICogQHBhcmFtIG5hbWVzcGFjZSAtIG9wdGlvbmFsIG5hbWVzcGFjZSBzdHJpbmcgdG8gYmUgcHJlcGVuZGVkIHRvIHRoZSB0eXBlCiAqLwoKaWYgKHR5cGVvZiBjcmVhdGVBY3Rpb24gIT09ICd1bmRlZmluZWQnICYmIGNyZWF0ZUFjdGlvbiAmJiBjcmVhdGVBY3Rpb24gPT09IE9iamVjdChjcmVhdGVBY3Rpb24pICYmIE9iamVjdC5pc0V4dGVuc2libGUoY3JlYXRlQWN0aW9uKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjcmVhdGVBY3Rpb24sICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJjcmVhdGVBY3Rpb24iLAogICAgICBmaWxlbmFtZTogInNyYy9saWIvYWN0aW9ucy50cyIKICAgIH0KICB9KTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFzeW5jQWN0aW9uKHR5cGUsIG5hbWVzcGFjZSkgewogIHZhciBhc3luY0FjdGlvbiA9IE9iamVjdC5hc3NpZ24oY3JlYXRlQWN0aW9uKHR5cGUsIG5hbWVzcGFjZSksIHsKICAgIHJlcXVlc3Q6IGNyZWF0ZUFjdGlvbigiIi5jb25jYXQodHlwZSwgIl9SRVFVRVNUIiksIG5hbWVzcGFjZSksCiAgICBzdWNjZXNzOiBjcmVhdGVBY3Rpb24oIiIuY29uY2F0KHR5cGUsICJfU1VDQ0VTUyIpLCBuYW1lc3BhY2UpLAogICAgZmFpbHVyZTogY3JlYXRlQWN0aW9uKCIiLmNvbmNhdCh0eXBlLCAiX0ZBSUxVUkUiKSwgbmFtZXNwYWNlKQogIH0pOwogIHJldHVybiBhc3luY0FjdGlvbjsKfQoKaWYgKHR5cGVvZiBjcmVhdGVBc3luY0FjdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgY3JlYXRlQXN5bmNBY3Rpb24gJiYgY3JlYXRlQXN5bmNBY3Rpb24gPT09IE9iamVjdChjcmVhdGVBc3luY0FjdGlvbikgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShjcmVhdGVBc3luY0FjdGlvbikpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlQXN5bmNBY3Rpb24sICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJjcmVhdGVBc3luY0FjdGlvbiIsCiAgICAgIGZpbGVuYW1lOiAic3JjL2xpYi9hY3Rpb25zLnRzIgogICAgfQogIH0pOwp9CgppZiAodHlwZW9mIEFjdGlvbkNyZWF0b3JNYXAgIT09ICd1bmRlZmluZWQnICYmIEFjdGlvbkNyZWF0b3JNYXAgJiYgQWN0aW9uQ3JlYXRvck1hcCA9PT0gT2JqZWN0KEFjdGlvbkNyZWF0b3JNYXApICYmIE9iamVjdC5pc0V4dGVuc2libGUoQWN0aW9uQ3JlYXRvck1hcCkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWN0aW9uQ3JlYXRvck1hcCwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIkFjdGlvbkNyZWF0b3JNYXAiLAogICAgICBmaWxlbmFtZTogInNyYy9saWIvYWN0aW9ucy50cyIKICAgIH0KICB9KTsKfQoKZXhwb3J0IHZhciBDcmVhdGVBY3Rpb25zQVBJID0gZnVuY3Rpb24gQ3JlYXRlQWN0aW9uc0FQSSgpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3JlYXRlQWN0aW9uc0FQSSk7Cn07Ci8qKgogKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIG5hbWVzcGFjZWQgYWN0aW9uLWNyZWF0b3JzCiAqCiAqIEBwYXJhbSBuYW1lc3BhY2UgLSBzdHJpbmcgLSBhIG5hbWVzcGFjZSB0byBiZSBwcmVwZW5kZWQgdG8gdGhlIGdlbmVyYXRlZCBhY3Rpb24gdHlwZXMKICogQHBhcmFtIGFjdGlvbnNDb250cnVjdG9yCiAqLwoKQ3JlYXRlQWN0aW9uc0FQSS5hY3Rpb24gPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlLCBuYW1lc3BhY2UpIHsKICAgIHJldHVybiBjcmVhdGVBY3Rpb24odHlwZSwgbmFtZXNwYWNlKTsKICB9Owp9OwoKQ3JlYXRlQWN0aW9uc0FQSS5hc3luY0FjdGlvbiA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gZnVuY3Rpb24gKHR5cGUsIG5hbWVzcGFjZSkgewogICAgcmV0dXJuIGNyZWF0ZUFzeW5jQWN0aW9uKHR5cGUsIG5hbWVzcGFjZSk7CiAgfTsKfTsKCmlmICh0eXBlb2YgQ3JlYXRlQWN0aW9uc0FQSSAhPT0gJ3VuZGVmaW5lZCcgJiYgQ3JlYXRlQWN0aW9uc0FQSSAmJiBDcmVhdGVBY3Rpb25zQVBJID09PSBPYmplY3QoQ3JlYXRlQWN0aW9uc0FQSSkgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShDcmVhdGVBY3Rpb25zQVBJKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDcmVhdGVBY3Rpb25zQVBJLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiQ3JlYXRlQWN0aW9uc0FQSSIsCiAgICAgIGZpbGVuYW1lOiAic3JjL2xpYi9hY3Rpb25zLnRzIgogICAgfQogIH0pOwp9CgppZiAodHlwZW9mIGNyZWF0ZUFjdGlvbnMgIT09ICd1bmRlZmluZWQnICYmIGNyZWF0ZUFjdGlvbnMgJiYgY3JlYXRlQWN0aW9ucyA9PT0gT2JqZWN0KGNyZWF0ZUFjdGlvbnMpICYmIE9iamVjdC5pc0V4dGVuc2libGUoY3JlYXRlQWN0aW9ucykpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlQWN0aW9ucywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogImNyZWF0ZUFjdGlvbnMiLAogICAgICBmaWxlbmFtZTogInNyYy9saWIvYWN0aW9ucy50cyIKICAgIH0KICB9KTsKfQoKaWYgKHR5cGVvZiBjcmVhdGVBY3Rpb25zICE9PSAndW5kZWZpbmVkJyAmJiBjcmVhdGVBY3Rpb25zICYmIGNyZWF0ZUFjdGlvbnMgPT09IE9iamVjdChjcmVhdGVBY3Rpb25zKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKGNyZWF0ZUFjdGlvbnMpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNyZWF0ZUFjdGlvbnMsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJjcmVhdGVBY3Rpb25zIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvbGliL2FjdGlvbnMudHMiCiAgICB9CiAgfSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBY3Rpb25zKCkgewogIHZhciBuYW1lc3BhY2UgPSBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gdW5kZWZpbmVkIDogYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdOwogIHZhciBhY3Rpb25zQ29udHJ1Y3RvciA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0gOiBhcmd1bWVudHMubGVuZ3RoIDw9IDEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMV07CiAgdmFyIGRlZnMgPSBhY3Rpb25zQ29udHJ1Y3RvcihDcmVhdGVBY3Rpb25zQVBJKTsKICByZXR1cm4gT2JqZWN0LmtleXMoZGVmcykucmVkdWNlKAogIC8qIGhhY2t5IGhhY2ssIGknZCBkZWVwbHkgYXBwcmVjaWF0ZSBzb21lIGhlbHAgd2l0aCB0aGlzIHR5cGUgYW5ub3RhdGlvbiAqLwogIGZ1bmN0aW9uIChhY2MsIGtleSkgewogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGFjYywgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIGRlZnNba2V5XShrZXksIG5hbWVzcGFjZSkpKTsKICB9LCB7fSk7Cn0KCmlmICh0eXBlb2YgY3JlYXRlQWN0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgY3JlYXRlQWN0aW9ucyAmJiBjcmVhdGVBY3Rpb25zID09PSBPYmplY3QoY3JlYXRlQWN0aW9ucykgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShjcmVhdGVBY3Rpb25zKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjcmVhdGVBY3Rpb25zLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiY3JlYXRlQWN0aW9ucyIsCiAgICAgIGZpbGVuYW1lOiAic3JjL2xpYi9hY3Rpb25zLnRzIgogICAgfQogIH0pOwp9Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmRlZmF1bHQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGNyZWF0ZUFjdGlvbiwgImNyZWF0ZUFjdGlvbiIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvc3JjL2xpYi9hY3Rpb25zLnRzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoY3JlYXRlQXN5bmNBY3Rpb24sICJjcmVhdGVBc3luY0FjdGlvbiIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvc3JjL2xpYi9hY3Rpb25zLnRzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoQ3JlYXRlQWN0aW9uc0FQSSwgIkNyZWF0ZUFjdGlvbnNBUEkiLCAiL1VzZXJzL2FsYW5yc29hcmVzL2Rldi9yZS1yZWR1Y2VkL3NyYy9saWIvYWN0aW9ucy50cyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGNyZWF0ZUFjdGlvbnMsICJjcmVhdGVBY3Rpb25zIiwgIi9Vc2Vycy9hbGFucnNvYXJlcy9kZXYvcmUtcmVkdWNlZC9zcmMvbGliL2FjdGlvbnMudHMiKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkubGVhdmVNb2R1bGU7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["/Users/alanrsoares/dev/re-reduced/src/lib/actions.ts"],"names":["flip","toSnakeCase","createAction","type","namespace","$type","actionCreator","payload","options","error","undefined","meta","reduce","handler","fold","createAsyncAction","asyncAction","Object","assign","request","success","failure","CreateActionsAPI","action","createActions","length","actionsContructor","defs","keys","acc","key"],"mappings":";;;;;;;;;AAAA,OAAOA,IAAP,MAAiB,gBAAjB;AAGA,SAASC,WAAT,QAA4B,oBAA5B;AAEA;;;;;;;AAMA,OAAO,SAASC,YAAT,CACLC,IADK,EAELC,SAFK,EAGL;AACA,MAAMC,KAAK,GAAGJ,WAAW,CAACG,SAAS,aAAMA,SAAN,cAAmBD,IAAnB,IAA4BA,IAAtC,CAAzB;;AAEA,MAAMG,aAAa,GAAI,SAAjBA,aAAiB,CACrBC,OADqB,EAErBC,OAFqB;AAAA,WAGjB;AACJC,MAAAA,KAAK,EAAED,OAAO,GAAGA,OAAO,CAACC,KAAX,GAAmBC,SAD7B;AAEJC,MAAAA,IAAI,EAAEH,OAAO,GAAGA,OAAO,CAACG,IAAX,GAAkBD,SAF3B;AAGJH,MAAAA,OAAO,EAAPA,OAHI;AAIJJ,MAAAA,IAAI,EAAEE;AAJF,KAHiB;AAAA,GAAvB;;AAUAC,EAAAA,aAAa,CAACH,IAAd,GAAqBE,KAArB;;AAEAC,EAAAA,aAAa,CAACM,MAAd,GAAuB,UACrBC,OADqB;AAAA,+BAGpBP,aAAa,CAACH,IAHM,EAGCU,OAHD;AAAA,GAAvB;;AAMAP,EAAAA,aAAa,CAACQ,IAAd,GAAqB,UACnBD,OADmB;AAAA,+BAGlBP,aAAa,CAACH,IAHI,EAGGH,IAAI,CAACa,OAAD,CAHP;AAAA,GAArB;;AAMA,SAAOP,aAAP;AACD;AAED;;;;;;;;;;;;;;;;;;AAMA,OAAO,SAASS,iBAAT,CACLZ,IADK,EAELC,SAFK,EAGL;AACA,MAAMY,WAAqD,GAAGC,MAAM,CAACC,MAAP,CAC5DhB,YAAY,CAAWC,IAAX,EAAiBC,SAAjB,CADgD,EAE5D;AACEe,IAAAA,OAAO,EAAEjB,YAAY,WAAIC,IAAJ,eAAoBC,SAApB,CADvB;AAEEgB,IAAAA,OAAO,EAAElB,YAAY,WAAaC,IAAb,eAA6BC,SAA7B,CAFvB;AAGEiB,IAAAA,OAAO,EAAEnB,YAAY,WAAcC,IAAd,eAA8BC,SAA9B;AAHvB,GAF4D,CAA9D;AASA,SAAOY,WAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;AAQD,WAAaM,gBAAb;AAAA;AAAA;AAYA;;;;;;;AAZaA,gB,CACGC,M,GAAS;AAAA,SAAoC,UACzDpB,IADyD,EAEzDC,SAFyD;AAAA,WAGtDF,YAAY,CAAkBC,IAAlB,EAAwBC,SAAxB,CAH0C;AAAA,GAApC;AAAA,C;;AADZkB,gB,CAMGN,W,GAAc;AAAA,SAAgD,UAC1Eb,IAD0E,EAE1EC,SAF0E;AAAA,WAGvEW,iBAAiB,CAA4BZ,IAA5B,EAAkCC,SAAlC,CAHsD;AAAA,GAAhD;AAAA,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyB9B,OAAO,SAASoB,aAAT,GAAqC;AAC1C,MAAMpB,SAAS,GAAG,UAAKqB,MAAL,KAAgB,CAAhB,GAAoBf,SAApB,mDAAlB;AACA,MAAMgB,iBAAiB,GAAG,UAAKD,MAAL,KAAgB,CAAhB,sGAA1B;AACA,MAAME,IAAI,GAAGD,iBAAiB,CAACJ,gBAAD,CAA9B;AAEA,SAAOL,MAAM,CAACW,IAAP,CAAYD,IAAZ,EAAkBf,MAAlB;AACL;AACA,YAACiB,GAAD,EAAWC,GAAX;AAAA,6BACKD,GADL,sBAEGC,GAFH,EAESH,IAAI,CAACG,GAAD,CAAJ,CAAUA,GAAV,EAAe1B,SAAf,CAFT;AAAA,GAFK,EAML,EANK,CAAP;AAQD;;;;;;;;;;;;;;;;;;;;;;0BAzGeF,Y;0BAuCAa,iB;0BAsBHO,gB;0BA+BGE,a","sourcesContent":["import flip from \"ramda/src/flip\";\n\nimport { ActionCreator, ActionCreatorOptions, AsyncAction } from \"./core\";\nimport { toSnakeCase } from \"../helpers/strings\";\n\n/**\n * returns an action-creator function\n *\n * @param type - the action identifier, must be unique\n * @param namespace - optional namespace string to be prepended to the type\n */\nexport function createAction<TPayload = void, TMeta = any>(\n  type: string,\n  namespace?: string\n) {\n  const $type = toSnakeCase(namespace ? `${namespace}/${type}` : type);\n\n  const actionCreator = ((\n    payload: TPayload,\n    options?: ActionCreatorOptions<TMeta>\n  ) => ({\n    error: options ? options.error : undefined,\n    meta: options ? options.meta : undefined,\n    payload,\n    type: $type,\n  })) as ActionCreator<TPayload, TMeta>;\n\n  actionCreator.type = $type;\n\n  actionCreator.reduce = <TState>(\n    handler: (state: TState, payload: TPayload) => TState\n  ) => ({\n    [actionCreator.type]: handler,\n  });\n\n  actionCreator.fold = <TState>(\n    handler: (payload: TPayload, state: TState) => TState\n  ) => ({\n    [actionCreator.type]: flip(handler),\n  });\n\n  return actionCreator;\n}\n\n/**\n * returns a composite action-creator with nested action-creators for request, success and failure\n *\n * @param type - the action identifier, must be unique\n * @param namespace - optional namespace string to be prepended to the type\n */\nexport function createAsyncAction<TResult, TPayload = void, TFailure = Error>(\n  type: string,\n  namespace?: string\n) {\n  const asyncAction: AsyncAction<TResult, TPayload, TFailure> = Object.assign(\n    createAction<TPayload>(type, namespace),\n    {\n      request: createAction(`${type}_REQUEST`, namespace),\n      success: createAction<TResult>(`${type}_SUCCESS`, namespace),\n      failure: createAction<TFailure>(`${type}_FAILURE`, namespace),\n    }\n  );\n\n  return asyncAction;\n}\n\nexport type ActionCreatorMap<\n  T extends {\n    [k: string]: (type: string, namespace?: string) => any;\n  }\n> = { [P in keyof T]: ReturnType<T[P]> };\n\nexport class CreateActionsAPI {\n  public static action = <TPayload = void, TMeta = any>() => (\n    type: string,\n    namespace?: string\n  ) => createAction<TPayload, TMeta>(type, namespace);\n\n  public static asyncAction = <TResult, TPayload = void, TError = Error>() => (\n    type: string,\n    namespace?: string\n  ) => createAsyncAction<TResult, TPayload, TError>(type, namespace);\n}\n\n/**\n * Creates an object with namespaced action-creators\n *\n * @param namespace - string - a namespace to be prepended to the generated action types\n * @param actionsContructor\n */\nexport function createActions<\n  T extends {\n    [k: string]: (type: string, namespace?: string) => any;\n  }\n>(actionsContructor: (api: typeof CreateActionsAPI) => T): ActionCreatorMap<T>;\nexport function createActions<\n  T extends {\n    [k: string]: (type: string, namespace?: string) => any;\n  }\n>(\n  namespace: string,\n  actionsContructor: (api: typeof CreateActionsAPI) => T\n): ActionCreatorMap<T>;\nexport function createActions(...args: any) {\n  const namespace = args.length === 1 ? undefined : args[0];\n  const actionsContructor = args.length === 1 ? args[0] : args[1];\n  const defs = actionsContructor(CreateActionsAPI);\n\n  return Object.keys(defs).reduce(\n    /* hacky hack, i'd deeply appreciate some help with this type annotation */\n    (acc: any, key) => ({\n      ...acc,\n      [key]: defs[key](key, namespace),\n    }),\n    {}\n  );\n}\n"]}]}