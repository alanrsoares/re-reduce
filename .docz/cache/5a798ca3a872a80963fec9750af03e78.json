{"remainingRequest":"/Users/alanrsoares/dev/re-reduced/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/alanrsoares/dev/re-reduced/node_modules/source-map-loader/index.js!/Users/alanrsoares/dev/re-reduced/examples/ToDo/reducers.ts","dependencies":[{"path":"/Users/alanrsoares/dev/re-reduced/examples/ToDo/reducers.ts","mtime":1557714513374},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/cache-loader/dist/cjs.js","mtime":1557712913498},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/thread-loader/dist/cjs.js","mtime":1553212856450},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/babel-loader/lib/index.js","mtime":1557712913458},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/source-map-loader/index.js","mtime":1553206056663}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5lbnRlck1vZHVsZTsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAicmVkdXgiOwppbXBvcnQgZGlzc29jIGZyb20gInJhbWRhL3NyYy9kaXNzb2MiOwppbXBvcnQgYXNzb2MgZnJvbSAicmFtZGEvc3JjL2Fzc29jIjsKaW1wb3J0IGluZGV4QnkgZnJvbSAicmFtZGEvc3JjL2luZGV4QnkiOwppbXBvcnQgeyBjcmVhdGVSZWR1Y2VyLCBtYXRjaCB9IGZyb20gIi4uLy4uL3NyYyI7CmltcG9ydCBhY3Rpb25zIGZyb20gIi4vYWN0aW9ucyI7CnZhciBJTklUSUFMX1NUQVRFID0gewogIGJ5SWQ6IHt9LAogIGlkTGlzdDogW10sCiAgaXNGZXRjaGluZzogZmFsc2UsCiAgaXNBZGRpbmc6IGZhbHNlCn07CnZhciBieUlkID0gY3JlYXRlUmVkdWNlcihbbWF0Y2goYWN0aW9ucy5mZXRjaC5zdWNjZXNzLCBmdW5jdGlvbiAoXywgdG9kb3MpIHsKICByZXR1cm4gaW5kZXhCeShmdW5jdGlvbiAodG9kbykgewogICAgcmV0dXJuIHRvZG8uaWQ7CiAgfSwgdG9kb3MpOwp9KSwgbWF0Y2goW2FjdGlvbnMuYWRkLnN1Y2Nlc3MsIGFjdGlvbnMudXBkYXRlXSwgZnVuY3Rpb24gKHN0YXRlLCB0b2RvKSB7CiAgcmV0dXJuIGFzc29jKHRvZG8uaWQsIHRvZG8sIHN0YXRlKTsKfSksIG1hdGNoKGFjdGlvbnNbImRlbGV0ZSJdLCBmdW5jdGlvbiAoc3RhdGUsIHRvZG9JZCkgewogIHJldHVybiBkaXNzb2ModG9kb0lkLCBzdGF0ZSk7Cn0pXSwgSU5JVElBTF9TVEFURS5ieUlkKTsKdmFyIGlkTGlzdCA9IGNyZWF0ZVJlZHVjZXIoW21hdGNoKGFjdGlvbnMuZmV0Y2guc3VjY2VzcywgZnVuY3Rpb24gKF8sIHRvZG9zKSB7CiAgcmV0dXJuIHRvZG9zLm1hcChmdW5jdGlvbiAodG9kbykgewogICAgcmV0dXJuIHRvZG8uaWQ7CiAgfSk7Cn0pLCBtYXRjaChhY3Rpb25zLmFkZC5zdWNjZXNzLCBmdW5jdGlvbiAoc3RhdGUsIHRvZG8pIHsKICByZXR1cm4gc3RhdGUuY29uY2F0KHRvZG8uaWQpOwp9KSwgbWF0Y2goYWN0aW9uc1siZGVsZXRlIl0sIGZ1bmN0aW9uIChzdGF0ZSwgdG9kb0lkKSB7CiAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsKICAgIHJldHVybiBpZCAhPT0gdG9kb0lkOwogIH0pOwp9KV0sIElOSVRJQUxfU1RBVEUuaWRMaXN0KTsKdmFyIGlzRmV0Y2hpbmcgPSBjcmVhdGVSZWR1Y2VyKFttYXRjaChhY3Rpb25zLmZldGNoLnJlcXVlc3QsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdHJ1ZTsKfSksIG1hdGNoKFthY3Rpb25zLmZldGNoLnN1Y2Nlc3MsIGFjdGlvbnMuZmV0Y2guZmFpbHVyZV0sIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gZmFsc2U7Cn0pXSwgSU5JVElBTF9TVEFURS5pc0ZldGNoaW5nKTsKdmFyIGlzQWRkaW5nID0gY3JlYXRlUmVkdWNlcihbbWF0Y2goYWN0aW9ucy5hZGQucmVxdWVzdCwgZnVuY3Rpb24gKCkgewogIHJldHVybiB0cnVlOwp9KSwgbWF0Y2goW2FjdGlvbnMuYWRkLnN1Y2Nlc3MsIGFjdGlvbnMuYWRkLmZhaWx1cmVdLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGZhbHNlOwp9KV0sIElOSVRJQUxfU1RBVEUuaXNBZGRpbmcpOwoKdmFyIF9kZWZhdWx0ID0gY29tYmluZVJlZHVjZXJzKHsKICBieUlkOiBieUlkLAogIGlkTGlzdDogaWRMaXN0LAogIGlzRmV0Y2hpbmc6IGlzRmV0Y2hpbmcsCiAgaXNBZGRpbmc6IGlzQWRkaW5nCn0pOwoKZXhwb3J0IGRlZmF1bHQgX2RlZmF1bHQ7CjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZGVmYXVsdDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoSU5JVElBTF9TVEFURSwgIklOSVRJQUxfU1RBVEUiLCAiL1VzZXJzL2FsYW5yc29hcmVzL2Rldi9yZS1yZWR1Y2VkL2V4YW1wbGVzL1RvRG8vcmVkdWNlcnMudHMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihieUlkLCAiYnlJZCIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvZXhhbXBsZXMvVG9Eby9yZWR1Y2Vycy50cyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGlkTGlzdCwgImlkTGlzdCIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvZXhhbXBsZXMvVG9Eby9yZWR1Y2Vycy50cyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGlzRmV0Y2hpbmcsICJpc0ZldGNoaW5nIiwgIi9Vc2Vycy9hbGFucnNvYXJlcy9kZXYvcmUtcmVkdWNlZC9leGFtcGxlcy9Ub0RvL3JlZHVjZXJzLnRzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoaXNBZGRpbmcsICJpc0FkZGluZyIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvZXhhbXBsZXMvVG9Eby9yZWR1Y2Vycy50cyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKF9kZWZhdWx0LCAiZGVmYXVsdCIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvZXhhbXBsZXMvVG9Eby9yZWR1Y2Vycy50cyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5sZWF2ZU1vZHVsZTsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["/Users/alanrsoares/dev/re-reduced/examples/ToDo/reducers.ts"],"names":["combineReducers","dissoc","assoc","indexBy","createReducer","match","actions","INITIAL_STATE","byId","idList","isFetching","isAdding","fetch","success","_","todos","todo","id","add","update","state","todoId","map","concat","filter","request","failure"],"mappings":"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","sourcesContent":["import { combineReducers } from \"redux\";\n\nimport dissoc from \"ramda/src/dissoc\";\nimport assoc from \"ramda/src/assoc\";\nimport indexBy from \"ramda/src/indexBy\";\n\nimport { createReducer, match } from \"../../src\";\n\nimport actions from \"./actions\";\nimport { State, ToDoMap } from \"./types\";\n\nconst INITIAL_STATE: State = {\n  byId: {},\n  idList: [],\n  isFetching: false,\n  isAdding: false,\n};\n\nconst byId = createReducer<ToDoMap>(\n  [\n    match(actions.fetch.success, (_, todos) => indexBy(todo => todo.id, todos)),\n    match([actions.add.success, actions.update], (state, todo) =>\n      assoc(todo.id, todo, state)\n    ),\n    match(actions.delete, (state, todoId) => dissoc(todoId, state)),\n  ],\n  INITIAL_STATE.byId\n);\n\nconst idList = createReducer<string[]>(\n  [\n    match(actions.fetch.success, (_, todos) => todos.map(todo => todo.id)),\n    match(actions.add.success, (state, todo) => state.concat(todo.id)),\n    match(actions.delete, (state, todoId) => state.filter(id => id !== todoId)),\n  ],\n  INITIAL_STATE.idList\n);\n\nconst isFetching = createReducer<boolean>(\n  [\n    match(actions.fetch.request, () => true),\n    match([actions.fetch.success, actions.fetch.failure], () => false),\n  ],\n  INITIAL_STATE.isFetching\n);\n\nconst isAdding = createReducer<boolean>(\n  [\n    match(actions.add.request, () => true),\n    match([actions.add.success, actions.add.failure], () => false),\n  ],\n  INITIAL_STATE.isAdding\n);\n\nexport default combineReducers<State>({\n  byId,\n  idList,\n  isFetching,\n  isAdding,\n});\n"]}]}