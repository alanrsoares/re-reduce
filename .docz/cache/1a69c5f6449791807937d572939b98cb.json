{"remainingRequest":"/Users/alanrsoares/dev/re-reduced/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/alanrsoares/dev/re-reduced/node_modules/source-map-loader/index.js!/Users/alanrsoares/dev/re-reduced/src/lib/hooks.ts","dependencies":[{"path":"/Users/alanrsoares/dev/re-reduced/src/lib/hooks.ts","mtime":1557714458226},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/cache-loader/dist/cjs.js","mtime":1557712913498},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/thread-loader/dist/cjs.js","mtime":1553212856450},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/docz/node_modules/babel-loader/lib/index.js","mtime":1557712913458},{"path":"/Users/alanrsoares/dev/re-reduced/node_modules/source-map-loader/index.js","mtime":1553206056663}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5lbnRlck1vZHVsZTsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKaW1wb3J0IGFwcGx5U3BlYyBmcm9tICJyYW1kYS9zcmMvYXBwbHlTcGVjIjsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZU1hcHBlZFN0YXRlLCBTdG9yZUNvbnRleHQgfSBmcm9tICJyZWR1eC1yZWFjdC1ob29rIjsKaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gZnJvbSAiLi9yZWFjdC1yZWR1eCI7CmV4cG9ydCB2YXIgU3RvcmVQcm92aWRlciA9IFN0b3JlQ29udGV4dC5Qcm92aWRlcjsKLyoqCiAqIFJldHVybiBzdG9yZS1ib3VuZCBhY3Rpb24tY3JlYXRvcnMuCiAqCiAqIEBwYXJhbSBhY3Rpb25zIGFjdGlvbi1jcmVhdG9ycyBnZW5lcmF0ZWQgYnkgInJlLXJlZHVjZWQvY3JlYXRlQWN0aW9ucyIKICovCgppZiAodHlwZW9mIFN0b3JlUHJvdmlkZXIgIT09ICd1bmRlZmluZWQnICYmIFN0b3JlUHJvdmlkZXIgJiYgU3RvcmVQcm92aWRlciA9PT0gT2JqZWN0KFN0b3JlUHJvdmlkZXIpICYmIE9iamVjdC5pc0V4dGVuc2libGUoU3RvcmVQcm92aWRlcikpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RvcmVQcm92aWRlciwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIlN0b3JlUHJvdmlkZXIiLAogICAgICBmaWxlbmFtZTogInNyYy9saWIvaG9va3MudHMiCiAgICB9CiAgfSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiB1c2VBY3Rpb25zKGFjdGlvbnMpIHsKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9ucykoZGlzcGF0Y2gpLmFjdGlvbnM7Cn0KCmlmICh0eXBlb2YgdXNlQWN0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgdXNlQWN0aW9ucyAmJiB1c2VBY3Rpb25zID09PSBPYmplY3QodXNlQWN0aW9ucykgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZSh1c2VBY3Rpb25zKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1c2VBY3Rpb25zLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAidXNlQWN0aW9ucyIsCiAgICAgIGZpbGVuYW1lOiAic3JjL2xpYi9ob29rcy50cyIKICAgIH0KICB9KTsKfQoKaWYgKHR5cGVvZiBTaW1wbGVNYXBTdGF0ZVRvUHJvcHMgIT09ICd1bmRlZmluZWQnICYmIFNpbXBsZU1hcFN0YXRlVG9Qcm9wcyAmJiBTaW1wbGVNYXBTdGF0ZVRvUHJvcHMgPT09IE9iamVjdChTaW1wbGVNYXBTdGF0ZVRvUHJvcHMpICYmIE9iamVjdC5pc0V4dGVuc2libGUoU2ltcGxlTWFwU3RhdGVUb1Byb3BzKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW1wbGVNYXBTdGF0ZVRvUHJvcHMsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJTaW1wbGVNYXBTdGF0ZVRvUHJvcHMiLAogICAgICBmaWxlbmFtZTogInNyYy9saWIvaG9va3MudHMiCiAgICB9CiAgfSk7Cn0KCi8qKgogKiBSZXR1cm4gbWFwcGVkU3RhdGUuCiAqCiAqIEBwYXJhbSBzZWxlY3Rvck9yTWFwU3RhdGUgZWl0aGVyIG5vcm1hbCBtYXBTdGF0ZVRvUHJvcHMgKHdpdGhvdXQgb3duUHJvcHMgYXMgMm5kIHBhcmFtZXRlcikgb3Igc2VsZWN0b3JTcGVjcwogKi8KZXhwb3J0IGZ1bmN0aW9uIHVzZVJlZHV4U3RhdGUoc2VsZWN0b3JPck1hcFN0YXRlKSB7CiAgdmFyIHN0YXRlVG9Qcm9wcyA9IHR5cGVvZiBzZWxlY3Rvck9yTWFwU3RhdGUgPT09ICJvYmplY3QiID8gYXBwbHlTcGVjKHNlbGVjdG9yT3JNYXBTdGF0ZSkgOiBzZWxlY3Rvck9yTWFwU3RhdGU7CiAgcmV0dXJuIHVzZU1hcHBlZFN0YXRlKHN0YXRlVG9Qcm9wcyk7Cn0KCmlmICh0eXBlb2YgdXNlUmVkdXhTdGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdXNlUmVkdXhTdGF0ZSAmJiB1c2VSZWR1eFN0YXRlID09PSBPYmplY3QodXNlUmVkdXhTdGF0ZSkgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZSh1c2VSZWR1eFN0YXRlKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1c2VSZWR1eFN0YXRlLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAidXNlUmVkdXhTdGF0ZSIsCiAgICAgIGZpbGVuYW1lOiAic3JjL2xpYi9ob29rcy50cyIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihTdG9yZVByb3ZpZGVyLCAiU3RvcmVQcm92aWRlciIsICIvVXNlcnMvYWxhbnJzb2FyZXMvZGV2L3JlLXJlZHVjZWQvc3JjL2xpYi9ob29rcy50cyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKHVzZUFjdGlvbnMsICJ1c2VBY3Rpb25zIiwgIi9Vc2Vycy9hbGFucnNvYXJlcy9kZXYvcmUtcmVkdWNlZC9zcmMvbGliL2hvb2tzLnRzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIodXNlUmVkdXhTdGF0ZSwgInVzZVJlZHV4U3RhdGUiLCAiL1VzZXJzL2FsYW5yc29hcmVzL2Rldi9yZS1yZWR1Y2VkL3NyYy9saWIvaG9va3MudHMiKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkubGVhdmVNb2R1bGU7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["/Users/alanrsoares/dev/re-reduced/src/lib/hooks.ts"],"names":["applySpec","useDispatch","useMappedState","StoreContext","bindActionCreators","StoreProvider","Provider","useActions","actions","dispatch","useReduxState","selectorOrMapState","stateToProps"],"mappings":";;;;;AAAA,OAAOA,SAAP,MAAsB,qBAAtB;AACA,SAASC,WAAT,EAAsBC,cAAtB,EAAsCC,YAAtC,QAA0D,kBAA1D;AAIA,SAASC,kBAAT,QAAiD,eAAjD;AAEA,OAAO,IAAMC,aAAa,GAAGF,YAAY,CAACG,QAAnC;AAEP;;;;;;;;;;;;;;;;;AAKA,OAAO,SAASC,UAAT,CACLC,OADK,EAEK;AACV,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;AACA,SAAOG,kBAAkB,CAACI,OAAD,CAAlB,CAA4BC,QAA5B,EAAsCD,OAA7C;AACD;;;;;;;;;;;;;;;;;;;;;;;;AAID;;;;;AAKA,OAAO,SAASE,aAAT,CACLC,kBADK,EAII;AACT,MAAMC,YAAY,GAChB,OAAOD,kBAAP,KAA8B,QAA9B,GACIX,SAAS,CAAUW,kBAAV,CADb,GAEIA,kBAHN;AAKA,SAAOT,cAAc,CAAUU,YAAV,CAArB;AACD;;;;;;;;;;;;;;;;;;;;;;0BAhCYP,a;0BAOGE,U;0BAcAG,a","sourcesContent":["import applySpec from \"ramda/src/applySpec\";\nimport { useDispatch, useMappedState, StoreContext } from \"redux-react-hook\";\n\nimport { Tree } from \"../helpers/objects\";\nimport { ActionCreator } from \"./core\";\nimport { bindActionCreators, SelectorSpec } from \"./react-redux\";\n\nexport const StoreProvider = StoreContext.Provider;\n\n/**\n * Return store-bound action-creators.\n *\n * @param actions action-creators generated by \"re-reduced/createActions\"\n */\nexport function useActions<TActions extends Tree<ActionCreator<any>> = {}>(\n  actions: TActions\n): TActions {\n  const dispatch = useDispatch();\n  return bindActionCreators(actions)(dispatch).actions;\n}\n\nexport type SimpleMapStateToProps<TResult, TState> = (state: TState) => TResult;\n\n/**\n * Return mappedState.\n *\n * @param selectorOrMapState either normal mapStateToProps (without ownProps as 2nd parameter) or selectorSpecs\n */\nexport function useReduxState<TResult, TState = any>(\n  selectorOrMapState:\n    | SelectorSpec<TResult, TState>\n    | SimpleMapStateToProps<TResult, TState>\n): TResult {\n  const stateToProps =\n    typeof selectorOrMapState === \"object\"\n      ? applySpec<TResult>(selectorOrMapState)\n      : selectorOrMapState;\n\n  return useMappedState<TResult>(stateToProps);\n}\n"]}]}